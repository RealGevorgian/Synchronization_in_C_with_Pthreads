In short critical sections, both the mutex and the spinlock protect the balance correctly, but the spinlock can sometimes be competitive or slightly faster because threads stay in user space and do not sleep in the kernel. In long critical sections, spinning becomes inefficient: a thread holding the spinlock runs usleep while all other threads actively busy-wait, wasting CPU cycles. A mutex is usually preferable for long critical sections because waiting threads can be put to sleep by the kernel and woken up when the lock becomes available. Therefore, spinning is worse when the lock is held for relatively long periods or when there is high contention.
